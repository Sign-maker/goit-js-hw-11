function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var r=o("7Y9D8");o("fZKcF");var i=o("g9nP5"),s=o("dyIeS"),l=o("irItn"),d=o("6HtdS");const c=document.querySelector("#search-form"),u=document.querySelector(".load-more-btn"),f=document.querySelector(".search-loader"),h=document.querySelector(".load-more-loader"),g=document.querySelector(".gallery");e(r).Notify.init({fontSize:"16px",timeout:5e3});const m=new(0,i.PixabayAPI),p=new(0,s.Button)(u),y=new(0,l.Loader)(f,"🔍"),b=new(0,l.Loader)(h,"🎞️"),w=new SimpleLightbox(".gallery a",{});function v(){return m.totalPages>m.params.page}function L(e){const{webformatURL:t,largeImageURL:n,likes:a,views:o,comments:r,downloads:i,tags:s}=e;return`<div class="photo-card">\n      <a href="${n}"><img src="${t}" alt="${s}" loading="lazy" /></a>\n      <div class="info">\n        <p class="info-item">\n          <b>Likes</b>${a}\n        </p>\n        <p class="info-item">\n          <b>Views</b>${o}\n        </p>\n        <p class="info-item">\n          <b>Comments</b>${r}\n        </p>\n        <p class="info-item">\n          <b>Downloads</b>${i}\n        </p>\n      </div>\n    </div>`}function q(e){const t=e.map(L).join("");g.insertAdjacentHTML("beforeend",t)}y.hide(),p.hide(),p.disable(),b.hide(),c.addEventListener("submit",(async function(t){t.preventDefault();const n=t.target.elements.searchQuery.value.trim();if(!n)return void e(r).Notify.warning("Plase input search query!");m.params.page=1,void(g.innerHTML=""),p.isVisible&&p.hide();m.params={...m.params,q:n};try{t.target.lastElementChild.disabled=!0,y.show();const n=await m.getCards(),a=n.totalHits;if(!a)return void e(r).Notify.failure("Sorry, there are no images matching your search query. Please try again.");e(r).Notify.success(`${a} image${1===a?"":"s"} finded`),m.totalPages=Math.ceil(a/m.params.per_page),q(n.hits),w.refresh(),v()?(m.params.page+=1,p.show(),p.enable()):e(r).Notify.success("We're sorry, but you've reached the end of search results.")}catch(t){console.log(t),e(r).Notify.failure("Oops, something went wrong, try again!")}finally{y.hide(),t.target.lastElementChild.disabled=!1}})),u.addEventListener("click",(async function(){try{p.disable(),b.show();q((await m.getCards()).hits),function(){const{height:e}=g.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}(),w.refresh(),p.enable(),v()?m.params.page+=1:(e(r).Notify.success("We're sorry, but you've reached the end of search results."),p.hide())}catch(t){console.log(t),e(r).Notify.failure("Oops, something went wrong, try again!")}finally{b.hide()}})),(0,d.goTopBtnHandler)();
//# sourceMappingURL=index.d5408d19.js.map
