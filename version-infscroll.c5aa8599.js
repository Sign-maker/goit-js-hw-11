!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=r.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){a[e]=r},r.parcelRequired7c6=n);var o=n("bpxeT"),s=n("dDDEV"),i=n("2TvXO"),u=n("6JpON"),c=n("5IjG7"),l=n("kZWxX"),p=n("hSrw4"),f=n("ip97o"),d=n("gx7bW"),h=document.querySelector("#search-form"),g=document.querySelector(".search-loader"),y=document.querySelector(".gallery"),v=document.querySelector(".target");e(u).Notify.init({fontSize:"16px",timeout:4e3,clickToClose:!0});var m=new(0,l.PixabayAPI),b=new(0,f.Loader)(g,"üîç"),x=new(e(c))(".gallery a",{overlayOpacity:.9});b.hide(),h.addEventListener("submit",(function(e){return N.apply(this,arguments)}));var w=new IntersectionObserver((function(r,t){r.forEach((a=e(o)(e(i).mark((function r(a){var n;return e(i).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.isIntersecting){r.next=2;break}return r.abrupt("return");case 2:return console.log(a),r.prev=3,r.next=6,m.getCards();case 6:n=r.sent,(0,p.renderMarkup)(y,n.hits),x.refresh(),m.isNextPage()?m.params.page+=1:(e(u).Notify.success("We're sorry, but you've reached the end of search results."),t.unobserve(v)),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(3),console.log(r.t0),e(u).Notify.failure("Oops, something went wrong, try again!");case 16:case"end":return r.stop()}}),r,null,[[3,12]])}))),function(e){return a.apply(this,arguments)}));var a}),{rootMargin:"400px",threshold:1});function N(){return(N=e(o)(e(i).mark((function r(t){var a,n,o;return e(i).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),a=t.target.elements.searchQuery.value.trim()){r.next=5;break}return e(u).Notify.warning("Plase input search query!"),r.abrupt("return");case 5:return m.params.page=1,w.unobserve(v),(0,p.clearRender)(y),m.params=e(s)({},m.params,{q:a}),r.prev=9,t.target.lastElementChild.disabled=!0,b.show(),r.next=14,m.getCards();case 14:if(n=r.sent,o=n.totalHits){r.next=19;break}return e(u).Notify.failure("Sorry, there are no images matching your search query. Please try again."),r.abrupt("return");case 19:e(u).Notify.success("Hooray! We found ".concat(o," image").concat(1===o?"":"s",".")),m.totalPages=Math.ceil(o/m.params.per_page),(0,p.renderMarkup)(y,n.hits),x.refresh(),m.isNextPage()?(m.params.page+=1,w.observe(v)):e(u).Notify.success("We're sorry, but you've reached the end of search results."),r.next=30;break;case 26:r.prev=26,r.t0=r.catch(9),console.log(r.t0),e(u).Notify.failure("Oops, something went wrong, try again!");case 30:return r.prev=30,b.hide(),t.target.lastElementChild.disabled=!1,r.finish(30);case 34:case"end":return r.stop()}}),r,null,[[9,26,30,34]])})))).apply(this,arguments)}(0,d.goTopBtnHandler)()}();
//# sourceMappingURL=version-infscroll.c5aa8599.js.map
