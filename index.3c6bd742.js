function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i);var s=i("7Y9D8"),o=i("fZKcF"),n=i("g9nP5"),l=i("im6YL"),d=i("iJYdK");var c=i("irItn"),u=i("6HtdS");const h=document.querySelector("#search-form"),f=document.querySelector(".load-more-btn"),y=document.querySelector(".search-loader"),g=document.querySelector(".load-more-loader"),p=document.querySelector(".gallery");e(s).Notify.init({fontSize:"16px",timeout:4e3,clickToClose:!0});const m=new(0,n.PixabayAPI),b=new class{enable(){this.btnRef.disabled=!1}disable(){this.btnRef.disabled=!0}show(){this.btnRef.classList.remove("is-hidden"),this.isVisible=!0}hide(){this.btnRef.classList.add("is-hidden"),this.isVisible=!1}constructor(t){e(d)(this,"isVisible",!0),this.btnRef=t}}(f),w=new(0,c.Loader)(y,"üîç"),v=new(0,c.Loader)(g,"üéûÔ∏è"),N=new(e(o))(".gallery a",{overlayOpacity:.9});w.hide(),b.hide(),v.hide(),h.addEventListener("submit",(async function(t){t.preventDefault();const r=t.target.elements.searchQuery.value.trim();if(!r)return void e(s).Notify.warning("Plase input search query!");m.params.page=1,(0,l.clearRender)(p),b.isVisible&&b.hide();m.params={...m.params,q:r};try{t.target.lastElementChild.disabled=!0,w.show();const r=await m.getCards(),a=r.totalHits;if(!a)return void e(s).Notify.failure("Sorry, there are no images matching your search query. Please try again.");e(s).Notify.success(`Hooray! We found ${a} image${1===a?"":"s"}.`),m.totalPages=Math.ceil(a/m.params.per_page),(0,l.renderMarkup)(p,r.hits),N.refresh(),m.isNextPage()?(m.params.page+=1,b.show()):e(s).Notify.success("We're sorry, but you've reached the end of search results.")}catch(t){console.log(t),e(s).Notify.failure("Oops, something went wrong, try again!")}finally{w.hide(),t.target.lastElementChild.disabled=!1}})),f.addEventListener("click",(async function(){try{b.disable(),v.show();const t=await m.getCards();(0,l.renderMarkup)(p,t.hits),(0,l.scrollCards)(p),N.refresh(),b.enable(),m.isNextPage()?m.params.page+=1:(e(s).Notify.success("We're sorry, but you've reached the end of search results."),b.hide())}catch(t){console.log(t),e(s).Notify.failure("Oops, something went wrong, try again!")}finally{v.hide()}})),(0,u.goTopBtnHandler)();
//# sourceMappingURL=index.3c6bd742.js.map
