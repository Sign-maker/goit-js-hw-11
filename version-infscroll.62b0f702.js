function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){a[e]=r},r.parcelRequired7c6=o);var n=o("7Y9D8"),s=o("fZKcF"),i=o("g9nP5"),l=o("im6YL"),c=o("irItn"),u=o("6HtdS");const d=document.querySelector("#search-form"),f=document.querySelector(".search-loader"),y=document.querySelector(".gallery"),g=document.querySelector(".target");e(n).Notify.init({fontSize:"16px",timeout:4e3,clickToClose:!0});const h=new(0,i.PixabayAPI),p=new(0,c.Loader)(f,"🔍"),m=new(e(s))(".gallery a",{overlayOpacity:.9});p.hide(),d.addEventListener("submit",(async function(r){r.preventDefault();const t=r.target.elements.searchQuery.value.trim();if(!t)return void e(n).Notify.warning("Plase input search query!");h.params.page=1,w.unobserve(g),(0,l.clearRender)(y),h.params={...h.params,q:t};try{r.target.lastElementChild.disabled=!0,p.show();const t=await h.getCards(),a=t.totalHits;if(!a)return void e(n).Notify.failure("Sorry, there are no images matching your search query. Please try again.");e(n).Notify.success(`Hooray! We found ${a} image${1===a?"":"s"}.`),h.totalPages=Math.ceil(a/h.params.per_page),(0,l.renderMarkup)(y,t.hits),m.refresh(),h.isNextPage()?(h.params.page+=1,w.observe(g)):e(n).Notify.success("We're sorry, but you've reached the end of search results.")}catch(r){console.log(r),e(n).Notify.failure("Oops, something went wrong, try again!")}finally{p.hide(),r.target.lastElementChild.disabled=!1}}));const w=new IntersectionObserver((function(r,t){r.forEach((async r=>{if(r.isIntersecting){console.log(r);try{const r=await h.getCards();(0,l.renderMarkup)(y,r.hits),m.refresh(),h.isNextPage()?h.params.page+=1:(e(n).Notify.success("We're sorry, but you've reached the end of search results."),t.unobserve(g))}catch(r){console.log(r),e(n).Notify.failure("Oops, something went wrong, try again!")}}}))}),{rootMargin:"400px",threshold:1});(0,u.goTopBtnHandler)();
//# sourceMappingURL=version-infscroll.62b0f702.js.map
